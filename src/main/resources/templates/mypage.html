<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>마이페이지</title>
  <!-- ⭐️ Tailwind CSS 추가 -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex items-center justify-center py-12">
  <div class="w-full max-w-lg space-y-6">

    <h1 class="text-3xl font-bold text-center text-gray-800">마이페이지</h1>

    <!-- ⭐️ 성공/실패 메시지 -->
    <div th:if="${message}"
         class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md"
         role="alert" th:text="${message}">
    </div>
    <div th:if="${error}"
         class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md"
         role="alert" th:text="${error}">
    </div>

    <!-- ⭐️ 내 정보 카드 -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-4 text-gray-700">내 정보</h3>
      <div class="space-y-2">
        <p class="text-gray-600">이메일: <span class="font-medium text-gray-900" th:text="${user.email}">user@example.com</span></p>
        <p class="text-gray-600">현재 닉네임: <strong class="font-medium text-gray-900" th:text="${user.username}">멋진닉네임</strong></p>
      </div>
    </div>

    <!-- ⭐️ 닉네임 변경 카드 -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-4 text-gray-700">닉네임 변경</h3>
      <form action="/mypage/update-username" method="post" class="space-y-4">
        <div>
          <label for="newUsername" class="block text-sm font-medium text-gray-700">새 닉네임:</label>
          <input type="text" id="newUsername" name="newUsername" placeholder="새 닉네임 입력" required
                 class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>
        <button type="submit"
                class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
          변경하기
        </button>
      </form>
    </div>

    <!-- ⭐️ 회원 탈퇴 카드 -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-4 text-red-700">회원 탈퇴</h3>
      <p class="text-sm text-gray-600 mb-4">⚠ 탈퇴 시 모든 정보가 삭제되며 복구할 수 없습니다.</p>
      <form action="/mypage/delete" method="post" onsubmit="return confirm('정말로 탈퇴하시겠습니까?');">
        <button type="submit"
                class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
          회원 탈퇴
        </button>
      </form>
    </div>

    <div class="text-center">
      <a href="/lobby" class="font-medium text-blue-600 hover:text-blue-500">로비로 돌아가기</a>
    </div>
  </div>

</body>
</html>